<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="robots" content="index, follow, all" />
    <meta name="Author" content="Sensio Labs" />
    <meta name="Language" content="en"/>
    <meta name="Copyright" content="Sensio" />
    <meta name="Publisher" content="Sensio" />
    <meta name="Description" content="Silex - The PHP micro-framework based on Symfony2 Components" />
    <meta name="Keywords" content="Silex, framework, micro-framework, php, symfony, components" />

    <title>Phar File - Documentation - Silex - The PHP micro-framework based on Symfony2 Components</title>

    <link href="../css/reset-min.css" rel="stylesheet" type="text/css" />
    <link href="../css/base.css" rel="stylesheet" type="text/css" />
    <link href="../css/colors.css" rel="stylesheet" type="text/css" />
    <link href="../css/code.css" rel="stylesheet" type="text/css" />
    <link href="../css/pygments.css" rel="stylesheet" type="text/css" />

    
    <link href="http://connect.sensiolabs.com/css/sln.css" rel="stylesheet" type="text/css" media="all" />
    <script type="text/javascript" src="../js/jquery-1.7.2.min.js"></script>

    <script type="text/javascript">
        (function(w, d, s) {
            function go() {
                var js, fjs = d.getElementsByTagName(s)[0], load = function(url, id) {
                    if (d.getElementById(id)) {return;}
                    js = d.createElement(s); js.src = url; js.id = id;
                    fjs.parentNode.insertBefore(js, fjs);
                };
                load('https://connect.sensiolabs.com/sln.js?customize_url=/js/sln_customize.js', 'sln_bar');
            }
            if (w.addEventListener) { w.addEventListener("load", go, false); }
            else if (w.attachEvent) { w.attachEvent("onload",go); }
        } (window, document, 'script'));
    </script>

    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-22504524-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  </head>
  <body>
    <div id="sln"></div>
    <div class="hd">
      <div class="illustration png_fix">
        <div class="content">
          <div class="sensio_product">
            <img class="png_fix" src="../images/sensio-labs-product.png" alt="a Sensio Labs Product" />
          </div>
          <div class="clearfix">
            <div class="logo_header"><a href="../index.html">SILEX</a></div>
            <h1 class="title_header">
              The PHP micro-framework<br />based on the Symfony2 Components
            </h1>
          </div>

          <div class="menu">
            <ul>
                              <li><a class="active" href="../documentation">DOCUMENTATION</a></li>
              <li><a href="../download">DOWNLOAD</a></li>
              <li><a href="../development">DEVELOPMENT</a></li>
              <li><a href="../contributors">CONTRIBUTORS</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div class="bd">
      <div class="content">
            <div class="infobar clearfix">
                    <div id="doc-toc" class="infobar-box">
            <h3>Table of Contents</h3>
            <ul>
<li><a class="reference internal" href="phar.html#">Phar File</a><ul>
<li><a class="reference internal" href="phar.html#installing">Installing</a></li>
<li><a class="reference internal" href="phar.html#console">Console</a></li>
<li><a class="reference internal" href="phar.html#pitfalls">Pitfalls</a><ul>
<li><a class="reference internal" href="phar.html#php-configuration">PHP configuration</a></li>
<li><a class="reference internal" href="phar.html#phar-stub-bug">Phar-Stub bug</a></li>
<li><a class="reference internal" href="phar.html#ioncube-loader-bug">ioncube loader bug</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            </div>
        
        <div class="infobar-box">
            <h3>Questions &amp; Feedback</h3>
            <div class="feedback">
                <p>
                  <strong>Found a typo or an error?</strong><br />
                  Want to improve this document? <a href="https://github.com/fabpot/Silex/edit/master/doc/phar.rst">Edit</a> it.
                </p>
                <p>
                  <strong>Need support or have a technical question?</strong><br />
                  Post to the <a href="http://groups.google.com/group/silex-php">user mailing-list</a>.
                 </p>
            </div>

            <h3>License</h3>
            <div id="license">
                <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/"><img alt="Creative Commons License" src="http://symfony.com/images/license.png" /></a>
                Silex <span xmlns:dc="http://purl.org/dc/elements/1.1/" href="http://purl.org/dc/dcmitype/MovingImage" rel="dc:type">documentation</span> is licensed under a
                Creative Commons Attribution-Share Alike 3.0
                Unported <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">License</a>.
            </div>
        </div>
    </div>

    <div class="body-web">
        <div class="section" id="phar-file">
<h1>Phar File<a class="headerlink" href="phar.html#phar-file" title="Permalink to this headline">¶</a></h1>
<div class="admonition-wrapper">
<div class="caution"></div><div class="admonition admonition-caution"><p class="first admonition-title">Caution</p>
<p class="last">Using the Silex <tt class="docutils literal"><code>phar</code></tt> file is deprecated. You should use Composer
instead to install Silex and its dependencies or download one of the
archives.</p>
</div></div>
<div class="section" id="installing">
<h2>Installing<a class="headerlink" href="phar.html#installing" title="Permalink to this headline">¶</a></h2>
<p>Installing Silex is as easy as downloading the <a class="reference external" href="http://silex.sensiolabs.org/get/silex.phar">phar</a> and storing it somewhere on
the disk. Then, require it in your script:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span class="o">&lt;?</span><span class="nx">php</span>

<span class="k">require_once</span> <span class="nx">__DIR__</span><span class="o">.</span><span class="s1">&#39;/silex.phar&#39;</span><span class="p">;</span>

<span class="nv">$app</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Silex\Application</span><span class="p">();</span>

<span class="nv">$app</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">&#39;/hello/{name}&#39;</span><span class="p">,</span> <span class="k">function</span> <span class="p">(</span><span class="nv">$name</span><span class="p">)</span> <span class="k">use</span> <span class="p">(</span><span class="nv">$app</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="s1">&#39;Hello &#39;</span><span class="o">.</span><span class="nv">$app</span><span class="o">-&gt;</span><span class="na">escape</span><span class="p">(</span><span class="nv">$name</span><span class="p">);</span>
<span class="p">});</span>

<span class="nv">$app</span><span class="o">-&gt;</span><span class="na">run</span><span class="p">();</span>
</pre></div>
</td></tr></table></div></div>
</div>
<div class="section" id="console">
<h2>Console<a class="headerlink" href="phar.html#console" title="Permalink to this headline">¶</a></h2>
<p>Silex includes a lightweight console for updating to the latest version.</p>
<p>To find out which version of Silex you are using, invoke <tt class="docutils literal"><code>silex.phar</code></tt> on the
command-line with <tt class="docutils literal"><code>version</code></tt> as an argument:</p>
<div class="literal-block"><div class="highlight-text"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre>$ php silex.phar version
Silex version 0a243d3 2011-04-17 14:49:31 +0200
</pre></div>
</td></tr></table></div></div>
<p>To check that your are using the latest version, run the <tt class="docutils literal"><code>check</code></tt> command:</p>
<div class="literal-block"><div class="highlight-text"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre>$ php silex.phar check
</pre></div>
</td></tr></table></div></div>
<p>To update <tt class="docutils literal"><code>silex.phar</code></tt> to the latest version, invoke the <tt class="docutils literal"><code>update</code></tt>
command:</p>
<div class="literal-block"><div class="highlight-text"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre>$ php silex.phar update
</pre></div>
</td></tr></table></div></div>
<p>This will automatically download a new <tt class="docutils literal"><code>silex.phar</code></tt> from
<tt class="docutils literal"><code>silex.sensiolabs.org</code></tt> and replace the existing one.</p>
</div>
<div class="section" id="pitfalls">
<h2>Pitfalls<a class="headerlink" href="phar.html#pitfalls" title="Permalink to this headline">¶</a></h2>
<p>There are some things that can go wrong. Here we will try and outline the
most frequent ones.</p>
<div class="section" id="php-configuration">
<h3>PHP configuration<a class="headerlink" href="phar.html#php-configuration" title="Permalink to this headline">¶</a></h3>
<p>Certain PHP distributions have restrictive default Phar settings. Setting
the following may help.</p>
<div class="literal-block"><div class="highlight-ini"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span class="na">detect_unicode</span> <span class="o">=</span> <span class="s">Off</span>
<span class="na">phar.readonly</span> <span class="o">=</span> <span class="s">Off</span>
<span class="na">phar.require_hash</span> <span class="o">=</span> <span class="s">Off</span>
</pre></div>
</td></tr></table></div></div>
<p>If you are on Suhosin you will also have to set this:</p>
<div class="literal-block"><div class="highlight-ini"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span class="na">suhosin.executor.include.whitelist</span> <span class="o">=</span> <span class="s">phar</span>
</pre></div>
</td></tr></table></div></div>
<div class="admonition-wrapper">
<div class="note"></div><div class="admonition admonition-note"><p class="first admonition-title">Note</p>
<p class="last">Ubuntu's PHP ships with Suhosin, so if you are using Ubuntu, you will need
this change.</p>
</div></div>
</div>
<div class="section" id="phar-stub-bug">
<h3>Phar-Stub bug<a class="headerlink" href="phar.html#phar-stub-bug" title="Permalink to this headline">¶</a></h3>
<p>Some PHP installations have a bug that throws a <tt class="docutils literal"><code>PharException</code></tt> when trying
to include the Phar. It will also tell you that <tt class="docutils literal"><code>Silex\Application</code></tt> could not
be found. A workaround is using the following include line:</p>
<div class="literal-block"><div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span class="k">require_once</span> <span class="s1">&#39;phar://&#39;</span><span class="o">.</span><span class="nx">__DIR__</span><span class="o">.</span><span class="s1">&#39;/silex.phar/autoload.php&#39;</span><span class="p">;</span>
</pre></div>
</td></tr></table></div></div>
<p>The exact cause of this issue could not be determined yet.</p>
</div>
<div class="section" id="ioncube-loader-bug">
<h3>ioncube loader bug<a class="headerlink" href="phar.html#ioncube-loader-bug" title="Permalink to this headline">¶</a></h3>
<p>Ioncube loader is an extension that can decode PHP encoded file.
Unfortunately, old versions (prior to version 4.0.9) are not working well
with phar archives.
You must either upgrade Ioncube loader to version 4.0.9 or newer or disable it
by commenting or removing this line in your php.ini file:</p>
<div class="literal-block"><div class="highlight-ini"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="highlight"><pre><span class="na">zend_extension</span> <span class="o">=</span> <span class="s">/usr/lib/php5/20090626+lfs/ioncube_loader_lin_5.3.so</span>
</pre></div>
</td></tr></table></div></div>
</div>
</div>
</div>

    </div>

            <div class="navigation">
                            <a accesskey="P" title="Changelog" href="changelog.html">
                    &laquo;&nbsp;Changelog
                </a>
                                            </div>
          </div>
      <div class="ft">
        <div class="content">
          This website is powered by Silex and Twig. The Silex <a href="../images/logo.png">logo</a> is &copy; 2010,2011 Sensio Labs
        </div>
      </div>
    </div>
  </body>
</html>
